import{a as x,N as B,A as p,g as r,aO as k,aP as m,Y as C,E as T,aQ as D,o as N,W as A,w as a,d as e,f as _,a2 as M,e as P,i as u}from"./index.1bb11c7d.js";import{a as V}from"./el-input.424f7e03.js";import{E as $,a as L}from"./el-table-column.1a899da9.js";import"./el-checkbox.46989ebd.js";import"./el-scrollbar.1f62721a.js";import{E as S}from"./el-link.93e2a571.js";/* empty css                */import{E as q}from"./el-message-box.01abd863.js";import"./el-overlay.1f7d1ab9.js";import{E as I}from"./index.8a409503.js";import"./index.08af8a2a.js";import"./validator.0d104d86.js";import"./scroll.292c786e.js";const O=u("div",{class:"card-header"},[u("span",null,"\u7BA1\u7406\u5458\u5217\u8868")],-1),Q=_(" \u7F16\u8F91 "),R=_(" \u5220\u9664 "),oe={__name:"List",setup(W){let i=x([]);B(async()=>{let{status:n,msg:s,data:t,total:l}=await p.list();n?i.value=t:r.error(s)});function f(n,s){q.confirm("\u786E\u8BA4\u5220\u9664\u6B64\u8D26\u6237\u561B?","\u786E\u8BA4\u5220\u9664",{type:"error",cancelButtonText:"\u53D6\u6D88",confirmButtonText:"\u786E\u8BA4"}).then(async()=>{let{status:t,msg:l}=await p.remove({id:n});t?(r.success(l),i.value.splice(s,1)):r.error(l)}).catch(()=>{r("\u53D6\u6D88\u6210\u529F\uFF01")})}return(n,s)=>{const t=$,l=k,h=I,w=m("EditPen"),d=C,c=T,b=S,E=m("Delete"),g=D,v=L,y=V;return N(),A(y,null,{header:a(()=>[O]),default:a(()=>[e(v,{data:P(i),style:{width:"100%"}},{default:a(()=>[e(t,{prop:"id",label:"#",width:"80"}),e(t,{prop:"username",label:"\u7528\u6237\u540D",width:"100"}),e(t,{prop:"fullname",label:"\u59D3\u540D",width:"100"}),e(t,{prop:"sex",label:"\u6027\u522B",width:"80"}),e(t,{prop:"tel",label:"\u624B\u673A",width:"150"}),e(t,{prop:"email",label:"\u90AE\u7BB1",width:"180"}),e(t,{label:"\u5934\u50CF",width:"100"},{default:a(o=>[e(l,{shape:"square",src:o.row.avatar},null,8,["src"])]),_:1}),e(t,{label:"\u89D2\u8272",width:"150"},{default:a(o=>[e(h,{type:o.row.id===1?"danger":"","disable-transitions":""},{default:a(()=>[_(M(o.row.role_name),1)]),_:2},1032,["type"])]),_:1}),e(t,{prop:"operation",label:"\u64CD\u4F5C"},{default:a(o=>[e(g,null,{default:a(()=>[e(b,{href:`/#/admin/listedit/${o.row.id}`},{default:a(()=>[e(c,{type:"primary",plain:""},{default:a(()=>[e(d,null,{default:a(()=>[e(w)]),_:1}),Q]),_:1})]),_:2},1032,["href"]),e(c,{type:"danger",disabled:o.row.id===1,plain:"",onClick:Y=>f(o.row.id,o.$index)},{default:a(()=>[e(d,null,{default:a(()=>[e(E)]),_:1}),R]),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_:1})}}};export{oe as default};
